{"ast":null,"code":"import { RECEIVE_POSTS, ADD_POST, UPVOTE_POST, DELETE_POST, UPDATE_POST, DOWNVOTE_POST } from \"../actions\";\nimport { api_votePost } from '../API-calls';\nexport default ((state = [], action) => {\n  const {\n    posts,\n    type,\n    post,\n    id\n  } = action;\n\n  switch (type) {\n    // UPDATE POSTS ===========================================\n    case RECEIVE_POSTS:\n      return [...posts];\n\n    case ADD_POST:\n      return [...state, post];\n    // VOTE POST ===============================================\n\n    case DOWNVOTE_POST:\n      if (api_votePost(id, 'downVote')) {\n        return state.map(post => {\n          if (post.id === id) post.voteScore--;\n          return post;\n        });\n      } else {\n        return state;\n      }\n\n    case UPVOTE_POST:\n      return state.map(post => {\n        if (post.id === id) post.voteScore++;\n        return post;\n      });\n    // EDIT POST ================================================\n\n    case DELETE_POST:\n      return state.filter(post => post.id !== id);\n\n    case UPDATE_POST:\n      return state;\n\n    default:\n      return state;\n  }\n});","map":{"version":3,"sources":["/home/aktoriukas/Documents/garrison-test2/frontend/src/reducers/posts.js"],"names":["RECEIVE_POSTS","ADD_POST","UPVOTE_POST","DELETE_POST","UPDATE_POST","DOWNVOTE_POST","api_votePost","state","action","posts","type","post","id","map","voteScore","filter"],"mappings":"AAAA,SACIA,aADJ,EAEIC,QAFJ,EAGIC,WAHJ,EAIIC,WAJJ,EAKIC,WALJ,EAMIC,aANJ,QAMyB,YANzB;AAQA,SAASC,YAAT,QAA6B,cAA7B;AAEA,gBAAe,CAACC,KAAK,GAAG,EAAT,EAAaC,MAAb,KAAwB;AAEnC,QAAM;AAAEC,IAAAA,KAAF;AAASC,IAAAA,IAAT;AAAeC,IAAAA,IAAf;AAAqBC,IAAAA;AAArB,MAA4BJ,MAAlC;;AAEA,UAAQE,IAAR;AAEI;AAEA,SAAKV,aAAL;AACI,aAAO,CAAE,GAAGS,KAAL,CAAP;;AAEJ,SAAKR,QAAL;AACI,aAAO,CAAC,GAAGM,KAAJ,EAAWI,IAAX,CAAP;AAEJ;;AAEA,SAAKN,aAAL;AAEI,UAAGC,YAAY,CAACM,EAAD,EAAK,UAAL,CAAf,EAAgC;AAC5B,eAAOL,KAAK,CAACM,GAAN,CAAUF,IAAI,IAAI;AACrB,cAAIA,IAAI,CAACC,EAAL,KAAYA,EAAhB,EAAqBD,IAAI,CAACG,SAAL;AACrB,iBAAOH,IAAP;AACH,SAHM,CAAP;AAIH,OALD,MAKK;AACD,eAAOJ,KAAP;AACH;;AAGL,SAAKL,WAAL;AAEI,aAAOK,KAAK,CAACM,GAAN,CAAUF,IAAI,IAAI;AACrB,YAAIA,IAAI,CAACC,EAAL,KAAYA,EAAhB,EAAqBD,IAAI,CAACG,SAAL;AACrB,eAAOH,IAAP;AACH,OAHM,CAAP;AAKJ;;AAEA,SAAKR,WAAL;AAEI,aAAOI,KAAK,CAACQ,MAAN,CAAaJ,IAAI,IAAIA,IAAI,CAACC,EAAL,KAAYA,EAAjC,CAAP;;AAEJ,SAAKR,WAAL;AAEA,aAAOG,KAAP;;AAEA;AACI,aAAOA,KAAP;AA1CR;AA4CD,CAhDH","sourcesContent":["import { \n    RECEIVE_POSTS, \n    ADD_POST,\n    UPVOTE_POST,\n    DELETE_POST,\n    UPDATE_POST,\n    DOWNVOTE_POST } from \"../actions\";\n  \nimport { api_votePost } from '../API-calls'\n\nexport default (state = [], action) => {\n\n    const { posts, type, post, id } = action;\n  \n    switch (type) {\n\n        // UPDATE POSTS ===========================================\n  \n        case RECEIVE_POSTS:\n            return [ ...posts ];\n  \n        case ADD_POST:\n            return [...state, post ]\n\n        // VOTE POST ===============================================\n\n        case DOWNVOTE_POST:\n\n            if(api_votePost(id, 'downVote')){\n                return state.map(post => {\n                    if( post.id === id ) post.voteScore--\n                    return post\n                })\n            }else{\n                return state\n            }\n\n    \n        case UPVOTE_POST:\n\n            return state.map(post => {\n                if( post.id === id ) post.voteScore++\n                return post\n            })\n\n        // EDIT POST ================================================\n\n        case DELETE_POST:\n\n            return state.filter(post => post.id !== id)\n    \n        case UPDATE_POST:\n\n        return state\n  \n        default:\n            return state;\n    }\n  };\n  "]},"metadata":{},"sourceType":"module"}