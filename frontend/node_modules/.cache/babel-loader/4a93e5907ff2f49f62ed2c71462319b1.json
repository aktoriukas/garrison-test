{"ast":null,"code":"import { RECEIVE_COMMENTS, ADD_COMMENT, DOWNVOTE_COMMENT, DELETE_COMMENT, UPDATE_COMMENT, UPVOTE_COMMENT } from \"../actions\";\nimport { api_voteComment } from '../API-calls';\nexport default ((state = [], action) => {\n  const {\n    comments,\n    comment,\n    type,\n    id\n  } = action;\n\n  switch (type) {\n    // UPDATE COMMENTS ===========================================\n    case RECEIVE_COMMENTS:\n      return [...comments];\n\n    case ADD_COMMENT:\n      return [...state, comment];\n    // VOTE COMMENT ===============================================\n\n    case DOWNVOTE_COMMENT:\n      if (api_voteComment(id)) {\n        return state.map(comment => {\n          if (comment.id === id) comment.voteScore--;\n          return comment;\n        });\n      } else {\n        return state;\n      }\n\n    case UPVOTE_COMMENT:\n      return state.map(comment => {\n        if (comment.id === id) comment.voteScore++;\n        return comment;\n      });\n    // EDIT COMMENT ================================================\n\n    case DELETE_COMMENT:\n      return state.filter(comment => comment.id !== id);\n\n    case UPDATE_COMMENT:\n      return state;\n\n    default:\n      return state;\n  }\n});","map":{"version":3,"sources":["/home/aktoriukas/Documents/garrison-test2/frontend/src/reducers/comments.js"],"names":["RECEIVE_COMMENTS","ADD_COMMENT","DOWNVOTE_COMMENT","DELETE_COMMENT","UPDATE_COMMENT","UPVOTE_COMMENT","api_voteComment","state","action","comments","comment","type","id","map","voteScore","filter"],"mappings":"AAAA,SACIA,gBADJ,EAEIC,WAFJ,EAGIC,gBAHJ,EAIIC,cAJJ,EAKIC,cALJ,EAMIC,cANJ,QAM0B,YAN1B;AAQA,SAASC,eAAT,QAAgC,cAAhC;AAGA,gBAAe,CAACC,KAAK,GAAG,EAAT,EAAaC,MAAb,KAAwB;AAEnC,QAAM;AAAEC,IAAAA,QAAF;AAAYC,IAAAA,OAAZ;AAAqBC,IAAAA,IAArB;AAA2BC,IAAAA;AAA3B,MAAkCJ,MAAxC;;AAEA,UAAOG,IAAP;AAEI;AAEA,SAAKX,gBAAL;AAEI,aAAO,CAAE,GAAGS,QAAL,CAAP;;AAEJ,SAAKR,WAAL;AAEI,aAAO,CAAC,GAAGM,KAAJ,EAAWG,OAAX,CAAP;AAGJ;;AAEA,SAAKR,gBAAL;AACI,UAAGI,eAAe,CAACM,EAAD,CAAlB,EAAuB;AACnB,eAAOL,KAAK,CAACM,GAAN,CAAUH,OAAO,IAAI;AACxB,cAAIA,OAAO,CAACE,EAAR,KAAeA,EAAnB,EAAwBF,OAAO,CAACI,SAAR;AACxB,iBAAOJ,OAAP;AACH,SAHM,CAAP;AAIH,OALD,MAKM;AACF,eAAOH,KAAP;AACH;;AAIL,SAAKF,cAAL;AAEI,aAAOE,KAAK,CAACM,GAAN,CAAUH,OAAO,IAAI;AACxB,YAAIA,OAAO,CAACE,EAAR,KAAeA,EAAnB,EAAwBF,OAAO,CAACI,SAAR;AACxB,eAAOJ,OAAP;AACH,OAHM,CAAP;AAKJ;;AAEA,SAAKP,cAAL;AAEI,aAAOI,KAAK,CAACQ,MAAN,CAAaL,OAAO,IAAIA,OAAO,CAACE,EAAR,KAAeA,EAAvC,CAAP;;AAEJ,SAAKR,cAAL;AAEI,aAAOG,KAAP;;AAEJ;AACI,aAAOA,KAAP;AA7CR;AAgDD,CApDH","sourcesContent":["import  { \n    RECEIVE_COMMENTS,\n    ADD_COMMENT,\n    DOWNVOTE_COMMENT,\n    DELETE_COMMENT,\n    UPDATE_COMMENT,\n    UPVOTE_COMMENT } from \"../actions\";\n\nimport { api_voteComment } from '../API-calls'\n\n\nexport default (state = [], action) => {\n\n    const { comments, comment, type, id } = action;\n  \n    switch(type) {\n\n        // UPDATE COMMENTS ===========================================\n  \n        case RECEIVE_COMMENTS:\n  \n            return [ ...comments]\n  \n        case ADD_COMMENT:\n  \n            return [...state, comment]\n\n\n        // VOTE COMMENT ===============================================\n  \n        case DOWNVOTE_COMMENT:\n            if(api_voteComment(id)){\n                return state.map(comment => {\n                    if( comment.id === id ) comment.voteScore--\n                    return comment\n                })\n            }else {\n                return state\n            }\n\n  \n  \n        case UPVOTE_COMMENT:\n\n            return state.map(comment => {\n                if( comment.id === id ) comment.voteScore++\n                return comment\n            })\n        \n        // EDIT COMMENT ================================================\n\n        case DELETE_COMMENT:\n\n            return state.filter(comment => comment.id !== id)\n\n        case UPDATE_COMMENT:\n\n            return state\n\n        default:\n            return state\n    }\n  \n  }\n  "]},"metadata":{},"sourceType":"module"}