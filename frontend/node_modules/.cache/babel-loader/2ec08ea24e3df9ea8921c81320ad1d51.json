{"ast":null,"code":"var _jsxFileName = \"/home/aktoriukas/Documents/garrison-test2/frontend/src/components/FullPost.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { api_votePost } from '../API-calls';\nimport CommentForm from './CommentForm';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function FullPost({\n  match\n}) {\n  _s();\n\n  const id = match.params.id;\n  useEffect(() => {\n    getSinglePost();\n  }, []);\n\n  const getSinglePost = async () => {\n    const post = await api_getSinglePost(id || match.params.id);\n    setPost(dispatch({\n      type: ADD_POST,\n      post\n    }).post);\n  };\n\n  const getComments = async () => {\n    const comments = await api_getComments(match.params.id);\n    setComments(dispatch({\n      type: RECEIVE_COMMENTS,\n      comments\n    }).comments);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: post.deleted === false ? /*#__PURE__*/_jsxDEV(\"li\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: post.title\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 35,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: post.body\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Vote, {\n        handleClick: handleClick,\n        score: post.voteScore\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        children: \"delete\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        children: \"edit\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 17\n      }, this), comments.map(comment => {\n        if (!comment.deleted) return /*#__PURE__*/_jsxDEV(Comment, {\n          comment: comment\n        }, comment.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 53\n        }, this);\n      }), /*#__PURE__*/_jsxDEV(CommentForm, {\n        parentId: id || match.params.id\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 13\n    }, this) : ''\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 30,\n    columnNumber: 9\n  }, this);\n}\n\n_s(FullPost, \"OD7bBpZva5O2jO+Puf00hKivP7c=\");\n\n_c = FullPost;\n\nvar _c;\n\n$RefreshReg$(_c, \"FullPost\");","map":{"version":3,"sources":["/home/aktoriukas/Documents/garrison-test2/frontend/src/components/FullPost.js"],"names":["React","useEffect","useSelector","useDispatch","api_votePost","CommentForm","FullPost","match","id","params","getSinglePost","post","api_getSinglePost","setPost","dispatch","type","ADD_POST","getComments","comments","api_getComments","setComments","RECEIVE_COMMENTS","deleted","title","body","handleClick","voteScore","map","comment"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,WAAT,EAAsBC,WAAtB,QAAyC,aAAzC;AACA,SAASC,YAAT,QAA6B,cAA7B;AACA,OAAOC,WAAP,MAAwB,eAAxB;;AAEA,eAAe,SAASC,QAAT,CAAkB;AAAEC,EAAAA;AAAF,CAAlB,EAA6B;AAAA;;AAExC,QAAMC,EAAE,GAAGD,KAAK,CAACE,MAAN,CAAaD,EAAxB;AAEAP,EAAAA,SAAS,CAAC,MAAM;AAEZS,IAAAA,aAAa;AAEhB,GAJQ,EAIN,EAJM,CAAT;;AAMA,QAAMA,aAAa,GAAG,YAAY;AAE9B,UAAMC,IAAI,GAAG,MAAMC,iBAAiB,CAACJ,EAAE,IAAID,KAAK,CAACE,MAAN,CAAaD,EAApB,CAApC;AACAK,IAAAA,OAAO,CAACC,QAAQ,CAAE;AAACC,MAAAA,IAAI,EAAEC,QAAP;AAAiBL,MAAAA;AAAjB,KAAF,CAAR,CAAmCA,IAApC,CAAP;AAEH,GALD;;AAOA,QAAMM,WAAW,GAAG,YAAY;AAC5B,UAAMC,QAAQ,GAAG,MAAMC,eAAe,CAACZ,KAAK,CAACE,MAAN,CAAaD,EAAd,CAAtC;AAEAY,IAAAA,WAAW,CAACN,QAAQ,CAAE;AAACC,MAAAA,IAAI,EAAEM,gBAAP;AAAyBH,MAAAA;AAAzB,KAAF,CAAR,CAA+CA,QAAhD,CAAX;AACH,GAJD;;AAMA,sBACI;AAAA,cACKP,IAAI,CAACW,OAAL,KAAiB,KAAjB,gBAED;AAAA,8BAEI;AAAA,kBAAKX,IAAI,CAACY;AAAV;AAAA;AAAA;AAAA;AAAA,cAFJ,eAII;AAAA,kBAAIZ,IAAI,CAACa;AAAT;AAAA;AAAA;AAAA;AAAA,cAJJ,eAMI,QAAC,IAAD;AAAM,QAAA,WAAW,EAAEC,WAAnB;AAAgC,QAAA,KAAK,EAAEd,IAAI,CAACe;AAA5C;AAAA;AAAA;AAAA;AAAA,cANJ,eAQI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cARJ,eASI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cATJ,EAYSR,QAAQ,CAACS,GAAT,CAAaC,OAAO,IAAI;AACrB,YAAG,CAACA,OAAO,CAACN,OAAZ,EAAqB,oBAAO,QAAC,OAAD;AAEI,UAAA,OAAO,EAAEM;AAFb,WACSA,OAAO,CAACpB,EADjB;AAAA;AAAA;AAAA;AAAA,gBAAP;AAGxB,OAJA,CAZT,eAkBQ,QAAC,WAAD;AAAa,QAAA,QAAQ,EAAEA,EAAE,IAAID,KAAK,CAACE,MAAN,CAAaD;AAA1C;AAAA;AAAA;AAAA;AAAA,cAlBR;AAAA;AAAA;AAAA;AAAA;AAAA,YAFC,GAwBL;AAzBA;AAAA;AAAA;AAAA;AAAA,UADJ;AA+BH;;GAtDuBF,Q;;KAAAA,Q","sourcesContent":["import React, { useEffect } from 'react'\nimport { useSelector, useDispatch } from 'react-redux'\nimport { api_votePost } from '../API-calls'\nimport CommentForm from './CommentForm'\n\nexport default function FullPost({ match }) {\n\n    const id = match.params.id\n\n    useEffect(() => {\n\n        getSinglePost()\n\n    }, [])\n\n    const getSinglePost = async () => {\n\n        const post = await api_getSinglePost(id || match.params.id)\n        setPost(dispatch(({type: ADD_POST, post})).post)\n\n    }\n\n    const getComments = async () => {\n        const comments = await api_getComments(match.params.id)\n        \n        setComments(dispatch(({type: RECEIVE_COMMENTS, comments})).comments)\n    }\n\n    return (\n        <div>\n            {post.deleted === false ?\n            \n            <li>\n    \n                <h3>{post.title}</h3>\n    \n                <p>{post.body}</p>\n    \n                <Vote handleClick={handleClick} score={post.voteScore} />\n    \n                <button>delete</button>\n                <button>edit</button>\n    \n                \n                    {comments.map(comment => {\n                        if(!comment.deleted) return <Comment \n                                                        key={comment.id} \n                                                        comment={comment}/>\n                    })}\n\n                    <CommentForm parentId={id || match.params.id}/>\n      \n            </li>\n        :\n        ''\n        }\n\n        </div>\n    )\n}\n"]},"metadata":{},"sourceType":"module"}